{"version":3,"sources":["../src/dic-factory.js"],"names":["module","exports","fn","resolve","reject","ready","res","rej","err","emitter","resolveEvent","rejectEvent","once"],"mappings":";;;;;;;;;;;;;;;;AAAAA,OAAOC,OAAP;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,0CAC+BC,EAD/B,EACmC;AAC/B,UAAIC,gBAAJ;AAAA,UAAaC,eAAb;AACA,UAAMC,QAAQ,sBAAY,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC3CJ,kBAAUG,GAAV;AACAF,iBAASG,GAAT;AACD,OAHa,CAAd;AAIAL,SAAG;AAAA,eAAOM,MAAMJ,OAAOI,GAAP,CAAN,GAAoBL,SAA3B;AAAA,OAAH;AACA,aAAOE,KAAP;AACD;AATH;AAAA;AAAA,yCAW8BI,OAX9B,EAWuCC,YAXvC,EAWqDC,WAXrD,EAWkE;AAC9D,UAAIR,gBAAJ;AAAA,UAAaC,eAAb;AACA,UAAMC,QAAQ,sBAAY,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC3CJ,kBAAUG,GAAV;AACAF,iBAASG,GAAT;AACD,OAHa,CAAd;;AAKAE,cAAQG,IAAR,CAAaF,YAAb,EAA2B,YAAM;AAC/BP,gBAAQM,OAAR;AACD,OAFD;;AAIA,UAAIE,WAAJ,EAAiB;AACfF,gBAAQG,IAAR,CAAaD,WAAb,EAA0B,UAACH,GAAD,EAAS;AACjCJ,iBAAOI,GAAP;AACD,SAFD;AAGD;;AAED,aAAOH,KAAP;AACD;AA7BH;AAAA;AAAA","file":"dic-factory.js","sourcesContent":["module.exports = class DicFactory {\n  static createCallbackPromise(fn) {\n    let resolve, reject;\n    const ready = new Promise(function(res, rej) {\n      resolve = res;\n      reject = rej;\n    });\n    fn(err => err ? reject(err) : resolve());\n    return ready;\n  }\n\n  static createEmitterPromise(emitter, resolveEvent, rejectEvent) {\n    let resolve, reject;\n    const ready = new Promise(function(res, rej) {\n      resolve = res;\n      reject = rej;\n    });\n\n    emitter.once(resolveEvent, () => {\n      resolve(emitter);\n    });\n\n    if (rejectEvent) {\n      emitter.once(rejectEvent, (err) => {\n        reject(err);\n      });\n    }\n\n    return ready;\n  }\n};\n"]}